"use strict";(self["webpackChunkcloud_dist"]=self["webpackChunkcloud_dist"]||[]).push([[751],{43751:function(e,a,l){l.r(a),l.d(a,{default:function(){return b}});var t=l(73396),n=l(44870),u=l(17033),s=l(24120),i=l(83273),o=l(92097),d=l(33008),m=l(96616),c=l(89807),v=l(74786),r=l(60212),f=l(56302),g=l(50631),w=l(55393),_=l(93896),p=l(11835),U=l(30627);const h={class:"settings-manage-container"},S={class:"website"},k={style:{"margin-bottom":"12px"}};var Z={__name:"SettingsManage",setup(e){const{message:a,dialog:l}=(0,s.M)(["message","dialog"]),Z="name",y="logo",W=(0,n.iH)(null),b=(0,n.qj)({name:{id:1,value:null},logo:{id:2,value:(0,n.iH)(null)}}),P=(0,n.iH)("");async function C(){b.name.value&&await(0,_.e)(b.name.id,{value:b.name.value}),b.logo.value&&await(0,_.e)(b.logo.id,{value:b.logo.value}),a.success("操作成功！")}async function H(){const e=await(0,_.h)(),a=e.system_configs||[];if(a.length){const e=a.find((e=>e.key===Z)),l=a.find((e=>e.key===y));e&&(b.name.value=e.value),l&&(b.logo.value=l.value,P.value=(0,p.Kn)(l.value))}}const M=(0,n.iH)(null);function q({file:e}){M.value=e,e.status="uploading",e.percentage=0;const a=setInterval((()=>{"finished"!==M.value.status?M.value.percentage+=30*Math.random():clearInterval(a)}),1e3);(0,U.g)(e).then((({url:e})=>{b.logo.value=e,P.value=(0,p.Kn)(e),M.value.percentage=100,setTimeout((()=>{M.value.status="finished"}),0)}))}return H(),(e,a)=>((0,t.wg)(),(0,t.iD)("div",h,[(0,t._)("div",S,[(0,t.Wm)((0,n.SU)(i.Z),{ref_key:"websiteFormRef",ref:W,model:b,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(o.ZP),{label:"网站名称"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(d.Z),{value:b.name.value,"onUpdate:value":a[0]||(a[0]=e=>b.name.value=e),placeholder:"请输入网站名称"},null,8,["value"])])),_:1}),(0,t.Wm)((0,n.SU)(o.ZP),{label:"logo"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(m.Z),{"directory-dnd":"",onChange:q},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(c.Z),null,{default:(0,t.w5)((()=>[(0,t._)("div",k,[(0,t.Wm)((0,n.SU)(v.g),{size:"48",depth:3},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(u.Z))])),_:1})]),(0,t.Wm)((0,n.SU)(r.Z),{style:{"font-size":"16px"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" 上传图片 ")])),_:1}),(0,t.Wm)((0,n.SU)(f.Z),{depth:"3",style:{margin:"8px 0 0 0"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" (图片大小不超过1M） ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)((0,n.SU)(o.ZP),{label:"当前logo图片"},{default:(0,t.w5)((()=>[P.value?((0,t.wg)(),(0,t.j4)((0,n.SU)(g.Z),{key:0,width:"100",src:P.value},null,8,["src"])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)((0,n.SU)(o.ZP),null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(w.ZP),{type:"primary",onClick:C},{default:(0,t.w5)((()=>[(0,t.Uk)(" 保存 ")])),_:1})])),_:1})])),_:1},8,["model"])])]))}},y=l(40089);const W=(0,y.Z)(Z,[["__scopeId","data-v-4ff57eb8"]]);var b=W}}]);
//# sourceMappingURL=751.f273785d.js.map