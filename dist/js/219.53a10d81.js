"use strict";(self["webpackChunkcloud_dist"]=self["webpackChunkcloud_dist"]||[]).push([[219],{21209:function(e,t,i){var r=i(73396);const n={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"},o=(0,r._)("path",{d:"M443.5,420.2L336.7,312.4c20.9-26.2,33.5-59.4,33.5-95.5c0-84.5-68.5-153-153.1-153S64,132.5,64,217s68.5,153,153.1,153\n\tc36.6,0,70.1-12.8,96.5-34.2l106.1,107.1c3.2,3.4,7.6,5.1,11.9,5.1c4.1,0,8.2-1.5,11.3-4.5C449.5,437.2,449.7,426.8,443.5,420.2z\n\t M217.1,337.1c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-84.9c0-32.1,12.5-62.3,35.2-84.9c22.7-22.7,52.9-35.2,85-35.2\n\tc32.1,0,62.3,12.5,85,35.2c22.7,22.7,35.2,52.9,35.2,84.9c0,32.1-12.5,62.3-35.2,84.9C279.4,324.6,249.2,337.1,217.1,337.1z"},null,-1),l=[o];t["Z"]=(0,r.aZ)({name:"IosSearch",render:function(e,t){return(0,r.wg)(),(0,r.iD)("svg",n,l)}})},75535:function(e,t,i){i.d(t,{Z:function(){return f}});var r=i(73396),n=i(44870),o=i(83645),l=i(68107),s=i(99420),a=i(80140),u=i(30411),c=(0,u.cB)("ellipsis",{overflow:"hidden"},[(0,u.u4)("line-clamp","\n white-space: nowrap;\n display: inline-block;\n vertical-align: bottom;\n max-width: 100%;\n "),(0,u.cM)("line-clamp","\n display: -webkit-inline-box;\n -webkit-box-orient: vertical;\n "),(0,u.cM)("cursor-pointer","\n cursor: pointer;\n ")]);function p(e){return`${e}-ellipsis--line-clamp`}function d(e,t){return`${e}-ellipsis--cursor-${t}`}const v=Object.assign(Object.assign({},l.Z.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}});var f=(0,r.aZ)({name:"Ellipsis",inheritAttrs:!1,props:v,setup(e,{slots:t,attrs:i}){const{mergedClsPrefixRef:o}=(0,s.Z)(e),u=(0,l.Z)("Ellipsis","-ellipsis",c,a.Z,e,o),v=(0,n.iH)(null),f=(0,n.iH)(null),m=(0,n.iH)(null),h=(0,n.iH)(!1),g=(0,r.Fl)((()=>{const{lineClamp:t}=e,{value:i}=h;return void 0!==t?{textOverflow:"","-webkit-line-clamp":i?"":t}:{textOverflow:i?"":"ellipsis","-webkit-line-clamp":""}}));function w(){let t=!1;const{value:i}=h;if(i)return!0;const{value:r}=v;if(r){const{lineClamp:i}=e;if(b(r),void 0!==i)t=r.scrollHeight<=r.offsetHeight;else{const{value:e}=f;e&&(t=e.getBoundingClientRect().width<=r.getBoundingClientRect().width)}x(r,t)}return t}const S=(0,r.Fl)((()=>"click"===e.expandTrigger?()=>{var e;const{value:t}=h;t&&(null===(e=m.value)||void 0===e||e.setShow(!1)),h.value=!t}:void 0));(0,r.se)((()=>{var t;e.tooltip&&(null===(t=m.value)||void 0===t||t.setShow(!1))}));const y=()=>(0,r.h)("span",Object.assign({},(0,r.dG)(i,{class:[`${o.value}-ellipsis`,void 0!==e.lineClamp?p(o.value):void 0,"click"===e.expandTrigger?d(o.value,"pointer"):void 0],style:g.value}),{ref:"triggerRef",onClick:S.value,onMouseenter:"click"===e.expandTrigger?w:void 0}),e.lineClamp?t:(0,r.h)("span",{ref:"triggerInnerRef"},t));function b(t){if(!t)return;const i=g.value,r=p(o.value);void 0!==e.lineClamp?_(t,r,"add"):_(t,r,"remove");for(const e in i)t.style[e]!==i[e]&&(t.style[e]=i[e])}function x(t,i){const r=d(o.value,"pointer");"click"!==e.expandTrigger||i?_(t,r,"remove"):_(t,r,"add")}function _(e,t,i){"add"===i?e.classList.contains(t)||e.classList.add(t):e.classList.contains(t)&&e.classList.remove(t)}return{mergedTheme:u,triggerRef:v,triggerInnerRef:f,tooltipRef:m,handleClick:S,renderTrigger:y,getTooltipDisabled:w}},render(){var e;const{tooltip:t,renderTrigger:i,$slots:n}=this;if(t){const{mergedTheme:l}=this;return(0,r.h)(o.Z,Object.assign({ref:"tooltipRef",placement:"top"},t,{getDisabled:this.getTooltipDisabled,theme:l.peers.Tooltip,themeOverrides:l.peerOverrides.Tooltip}),{trigger:i,default:null!==(e=n.tooltip)&&void 0!==e?e:n.default})}return i()}})},80140:function(e,t,i){var r=i(68107),n=i(78308),o=i(95902);const l=(0,r.j)({name:"Ellipsis",common:n.Z,peers:{Tooltip:o.Z}});t["Z"]=l},9518:function(e,t,i){i.d(t,{Z:function(){return k}});i(57658);var r=i(73396),n=i(44870),o=i(49242),l=i(10668);const s={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function a(e){return`(min-width: ${e}px)`}const u={};function c(e=s){if(!l.j)return(0,r.Fl)((()=>[]));if("function"!==typeof window.matchMedia)return(0,r.Fl)((()=>[]));const t=(0,n.iH)({}),i=Object.keys(e),o=(e,i)=>{e.matches?t.value[i]=!0:t.value[i]=!1};return i.forEach((t=>{const i=e[t];let r,n;void 0===u[i]?(r=window.matchMedia(a(i)),r.addEventListener?r.addEventListener("change",(e=>{n.forEach((i=>{i(e,t)}))})):r.addListener&&r.addListener((e=>{n.forEach((i=>{i(e,t)}))})),n=new Set,u[i]={mql:r,cbs:n}):(r=u[i].mql,n=u[i].cbs),n.add(o),r.matches&&n.forEach((e=>{e(r,t)}))})),(0,r.Jd)((()=>{i.forEach((t=>{const{cbs:i}=u[e[t]];i.has(o)&&i.delete(o)}))})),(0,r.Fl)((()=>{const{value:e}=t;return i.filter((t=>e[t]))}))}var p=c,d=i(64498),v=i(8125);function f(e){if("number"===typeof e)return{"":e.toString()};const t={};return e.split(/ +/).forEach((e=>{if(""===e)return;const[i,r]=e.split(":");void 0===r?t[""]=i:t[i]=r})),t}function m(e,t){var i;if(void 0===e||null===e)return;const r=f(e);if(void 0===t)return r[""];if("string"===typeof t)return null!==(i=r[t])&&void 0!==i?i:r[""];if(Array.isArray(t)){for(let e=t.length-1;e>=0;--e){const i=t[e];if(i in r)return r[i]}return r[""]}{let e,i=-1;return Object.keys(r).forEach((n=>{const o=Number(n);!Number.isNaN(o)&&t>=o&&o>=i&&(i=o,e=r[n])})),e}}var h=i(5805),g=i(53072);const w={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920};var S=i(99420),y=i(55544),b=i(79940),x=i(94072);function _(e){var t;const i=null===(t=e.dirs)||void 0===t?void 0:t.find((({dir:e})=>e===o.F8));return!(!i||!1!==i.value)}var C=i(45353);const Z=24,$="__ssr__",R={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:Z},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}};var k=(0,r.aZ)({name:"Grid",inheritAttrs:!1,props:R,setup(e){const{mergedClsPrefixRef:t,mergedBreakpointsRef:i}=(0,S.Z)(e),o=/^\d+$/,l=(0,n.iH)(void 0),s=p((null===i||void 0===i?void 0:i.value)||w),a=(0,d.Z)((()=>!!e.itemResponsive||(!o.test(e.cols.toString())||(!o.test(e.xGap.toString())||!o.test(e.yGap.toString()))))),u=(0,r.Fl)((()=>{if(a.value)return"self"===e.responsive?l.value:s.value})),c=(0,d.Z)((()=>{var t;return null!==(t=Number(m(e.cols.toString(),u.value)))&&void 0!==t?t:Z})),v=(0,d.Z)((()=>m(e.xGap.toString(),u.value))),f=(0,d.Z)((()=>m(e.yGap.toString(),u.value))),b=e=>{l.value=e.contentRect.width},x=e=>{(0,h.J)(b,e)},_=(0,n.iH)(!1),R=(0,r.Fl)((()=>{if("self"===e.responsive)return x})),k=(0,n.iH)(!1),G=(0,n.iH)();return(0,r.bv)((()=>{const{value:e}=G;e&&e.hasAttribute($)&&(e.removeAttribute($),k.value=!0)})),(0,r.JJ)(C.r,{layoutShiftDisabledRef:(0,n.Vh)(e,"layoutShiftDisabled"),isSsrRef:k,itemStyleRef:(0,n.Vh)(e,"itemStyle"),xGapRef:v,overflowRef:_}),{isSsr:!y.j,contentEl:G,mergedClsPrefix:t,style:(0,r.Fl)((()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:(0,g.BL)(e.xGap),rowGap:(0,g.BL)(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${c.value}, minmax(0, 1fr))`,columnGap:(0,g.BL)(v.value),rowGap:(0,g.BL)(f.value)})),isResponsive:a,responsiveQuery:u,responsiveCols:c,handleResize:R,overflow:_}},render(){if(this.layoutShiftDisabled)return(0,r.h)("div",(0,r.dG)({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var e,t,i,n,l,s,a;this.overflow=!1;const u=(0,b.x)((0,x.z)(this)),c=[],{collapsed:p,collapsedRows:d,responsiveCols:v,responsiveQuery:f}=this;u.forEach((e=>{var t,i,n,l;if(!0!==(null===(t=null===e||void 0===e?void 0:e.type)||void 0===t?void 0:t.__GRID_ITEM__))return;if(_(e)){const t=(0,r.Ho)(e);return t.props?t.props.privateShow=!1:t.props={privateShow:!1},void c.push({child:t,rawChildSpan:0})}e.dirs=(null===(i=e.dirs)||void 0===i?void 0:i.filter((({dir:e})=>e!==o.F8)))||null;const s=(0,r.Ho)(e),a=Number(null!==(l=m(null===(n=s.props)||void 0===n?void 0:n.span,f))&&void 0!==l?l:C.L);0!==a&&c.push({child:s,rawChildSpan:a})}));let h=0;const g=null===(e=c[c.length-1])||void 0===e?void 0:e.child;if(null===g||void 0===g?void 0:g.props){const e=null===(t=g.props)||void 0===t?void 0:t.suffix;void 0!==e&&!1!==e&&(h=null!==(n=null===(i=g.props)||void 0===i?void 0:i.span)&&void 0!==n?n:C.L,g.props.privateSpan=h,g.props.privateColStart=v+1-h,g.props.privateShow=null===(l=g.props.privateShow)||void 0===l||l)}let w=0,S=!1;for(const{child:r,rawChildSpan:o}of c){if(S&&(this.overflow=!0),!S){const e=Number(null!==(a=m(null===(s=r.props)||void 0===s?void 0:s.offset,f))&&void 0!==a?a:0),t=Math.min(o+e,v);if(r.props?(r.props.privateSpan=t,r.props.privateOffset=e):r.props={privateSpan:t,privateOffset:e},p){const e=w%v;t+e>v&&(w+=v-e),t+w+h>d*v?S=!0:w+=t}}S&&(r.props?!0!==r.props.privateShow&&(r.props.privateShow=!1):r.props={privateShow:!1})}return(0,r.h)("div",(0,r.dG)({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[$]:this.isSsr||void 0},this.$attrs),c.map((({child:e})=>e)))};return this.isResponsive&&"self"===this.responsive?(0,r.h)(v.Z,{onResize:this.handleResize},{default:e}):e()}})},85210:function(e,t,i){var r=i(73396),n=i(53072),o=i(61838),l=i(45353);const s=1,a={span:{type:[Number,String],default:s},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}};(0,o.u)(a);t["ZP"]=(0,r.aZ)({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:a,setup(){const{isSsrRef:e,xGapRef:t,itemStyleRef:i,overflowRef:o,layoutShiftDisabledRef:a}=(0,r.f3)(l.r),u=(0,r.FN)();return{overflow:o,itemStyle:i,layoutShiftDisabled:a,mergedXGap:(0,r.Fl)((()=>(0,n.BL)(t.value||0))),deriveStyle:()=>{e.value;const{privateSpan:i=s,privateShow:r=!0,privateColStart:o,privateOffset:l=0}=u.vnode.props,{value:a}=t,c=(0,n.BL)(a||0);return{display:r?"":"none",gridColumn:`${null!==o&&void 0!==o?o:`span ${i}`} / span ${i}`,marginLeft:l?`calc((100% - (${i} - 1) * ${c}) / ${i} * ${l} + ${c} * ${l})`:""}}}},render(){var e,t;if(this.layoutShiftDisabled){const{span:e,offset:t,mergedXGap:i}=this;return(0,r.h)("div",{style:{gridColumn:`span ${e} / span ${e}`,marginLeft:t?`calc((100% - (${e} - 1) * ${i}) / ${e} * ${t} + ${i} * ${t})`:""}},this.$slots)}return(0,r.h)("div",{style:[this.itemStyle,this.deriveStyle()]},null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e,{overflow:this.overflow}))}})},45353:function(e,t,i){i.d(t,{L:function(){return n},r:function(){return o}});var r=i(11295);const n=1,o=(0,r.U)("n-grid")},59684:function(e,t,i){i.d(t,{DI:function(){return o},SN:function(){return l},fg:function(){return a},id:function(){return s},rT:function(){return n}});var r=i(37245);function n(e){return(0,r.Z)({url:"/resources",method:"get",params:e})}function o(e){return(0,r.Z)({url:`/resources/${e}`,method:"get"})}function l(e){return(0,r.Z)({url:"/resources",method:"post",data:e})}function s(e,t){return(0,r.Z)({url:`/resources/${e}`,method:"put",data:t})}function a(e){return(0,r.Z)({url:`/resources/${e}`,method:"delete"})}},31616:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});i(57658),i(30541);var r=i(73396),n=i(44870),o=i(87139),l=i(33008),s=i(74786),a=i(43282),u=i(94570),c=i(70553),p=i(9518),d=i(85210),v=i(75535),f=i(21209),m=i(22483),h=i(59063),g=(i(59684),i(10796)),w=i(2115),S=i.p+"img/my_favorite.5ec0fedd.png",y=i(20065);const b={class:"resource-container"},x={class:"search-wrap"},_={class:"tags-wrap"},C=["src"];var Z={__name:"resource",setup(e){const t=(0,y.oR)(),i=(0,m.tv)();function Z(){i.push("/m/profile")}const $=(0,n.iH)(null),R=(0,n.iH)(null),k={textColor:"#ed3939",borderColor:"#ed3939"};async function G(){const e=await(0,h.$R)(),t=e.items||[];t.unshift({id:g.zZ,name:g.go}),$.value=t,R.value=t[0]||{}}function E(e){R.value=e,t.commit("SET_SELECTED_CATEGORY",e)}G();const T=(0,n.iH)(!1),L=(0,n.iH)([]);(0,n.qj)({page_num:1,page_size:10,category_id:null});async function D(){if(T.value=!0,L.value=[],R.value.id!==g.zZ){const e=R.value.items.map((e=>({...e,picture_url:"https://07akioni.oss-cn-beijing.aliyuncs.com/07akioni.jpeg"})));L.value=e||[]}else L.value=[{id:g.PA,name:g.OZ,picture_url:S},{id:g.G6,name:g.O5,picture_url:S}];T.value=!1}function H(){O({isFromSearch:!0})}function N(e){const t=[g.PA,g.G6].includes(e.id);O(t?{isFromFavorite:!0,category_id:e.id}:{category_id:e.id,name:e.name})}function O(e){i.push({path:"/m/resource/list",query:e})}return(0,r.YP)(R,(e=>{D()})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",x,[(0,r.Wm)((0,n.SU)(l.Z),{round:"",placeholder:"搜索","on-focus":H},{prefix:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(s.g),{component:(0,n.SU)(f.Z)},null,8,["component"])])),_:1}),(0,r.Wm)((0,n.SU)(a.Z),{class:"user",round:"",src:(0,n.SU)(w),onClick:Z},null,8,["src"])]),(0,r._)("div",_,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)($.value,(e=>((0,r.wg)(),(0,r.j4)((0,n.SU)(u.ZP),{size:"small",round:"",strong:"",color:R.value.id===e.id?k:void 0,onClick:t=>E(e)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.name),1)])),_:2},1032,["color","onClick"])))),256))]),(0,r.Wm)((0,n.SU)(c.Z),{class:"list-wrap",show:T.value},{default:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(p.Z),{"x-gap":"12","y-gap":"12",cols:4},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(L.value,(e=>((0,r.wg)(),(0,r.j4)((0,n.SU)(d.ZP),{onClick:t=>N(e)},{default:(0,r.w5)((()=>[(0,r._)("img",{class:"poster",src:(0,n.SU)(g.Kn)(e.picture_url)},null,8,C),(0,r._)("div",null,[(0,r.Wm)((0,n.SU)(v.Z),{style:{"max-width":"75px"}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.name),1)])),_:2},1024)])])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1},8,["show"])]))}},$=i(40089);const R=(0,$.Z)(Z,[["__scopeId","data-v-74fcc605"]]);var k=R}}]);
//# sourceMappingURL=219.53a10d81.js.map