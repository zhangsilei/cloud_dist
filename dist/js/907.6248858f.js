"use strict";(self["webpackChunkcloud_dist"]=self["webpackChunkcloud_dist"]||[]).push([[907],{8907:function(e,l,a){a.r(l),a.d(l,{default:function(){return H}});var n=a(3396),t=a(4870);const u={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},o=(0,n._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 112v288"},null,-1),i=(0,n._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1),s=[o,i];var r=(0,n.aZ)({name:"Add",render:function(e,l){return(0,n.wg)(),(0,n.iD)("svg",u,s)}}),d=a(4120),c=a(3273),v=a(7646),m=a(3008),g=a(6616),f=a(9807),w=a(4786),p=a(212),k=a(6302),h=a(631),_=a(5393),U=a(3896),S=a(1835),Z=a(627);const y={class:"settings-manage-container"},W={class:"website"},b={style:{"margin-bottom":"12px"}};var x={__name:"SettingsManage",setup(e){const{message:l,dialog:a}=(0,d.M)(["message","dialog"]),u="name",o="logo",i=(0,t.iH)(null),s=(0,t.qj)({name:{id:1,value:null},logo:{id:2,value:(0,t.iH)(null)}}),x=(0,t.iH)("");async function C(){s.name.value&&await(0,U.e)(s.name.id,{value:s.name.value}),s.logo.value&&await(0,U.e)(s.logo.id,{value:s.logo.value}),l.success("操作成功！")}async function M(){const e=await(0,U.h)(),l=e.system_configs||[];if(l.length){const e=l.find((e=>e.key===u)),a=l.find((e=>e.key===o));e&&(s.name.value=e.value),a&&(s.logo.value=a.value,x.value=(0,S.Kn)(a.value))}}const H=(0,t.iH)(null);function P({file:e}){H.value=e,e.status="uploading",e.percentage=0;const l=setInterval((()=>{"finished"!==H.value.status?H.value.percentage+=30*Math.random():clearInterval(l)}),1e3);(0,Z.g)(e).then((({url:e})=>{s.logo.value=e,x.value=(0,S.Kn)(e),H.value.percentage=100,setTimeout((()=>{H.value.status="finished"}),0)}))}return M(),(e,l)=>((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("div",W,[(0,n.Wm)((0,t.SU)(c.Z),{ref_key:"websiteFormRef",ref:i,model:s,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(v.ZP),{label:"网站名称"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(m.Z),{value:s.name.value,"onUpdate:value":l[0]||(l[0]=e=>s.name.value=e),placeholder:"请输入网站名称"},null,8,["value"])])),_:1}),(0,n.Wm)((0,t.SU)(v.ZP),{label:"logo"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(g.Z),{"directory-dnd":"",onChange:P},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(f.Z),null,{default:(0,n.w5)((()=>[(0,n._)("div",b,[(0,n.Wm)((0,t.SU)(w.g),{size:"48",depth:3},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(r))])),_:1})]),(0,n.Wm)((0,t.SU)(p.Z),{style:{"font-size":"16px"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" 上传图片 ")])),_:1}),(0,n.Wm)((0,t.SU)(k.Z),{depth:"3",style:{margin:"8px 0 0 0"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" (图片大小不超过1M） ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,t.SU)(v.ZP),{label:"当前logo图片"},{default:(0,n.w5)((()=>[x.value?((0,n.wg)(),(0,n.j4)((0,t.SU)(h.Z),{key:0,width:"100",src:x.value},null,8,["src"])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)((0,t.SU)(v.ZP),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(_.ZP),{type:"primary",onClick:C},{default:(0,n.w5)((()=>[(0,n.Uk)(" 保存 ")])),_:1})])),_:1})])),_:1},8,["model"])])]))}},C=a(89);const M=(0,C.Z)(x,[["__scopeId","data-v-13d11854"]]);var H=M}}]);
//# sourceMappingURL=907.6248858f.js.map