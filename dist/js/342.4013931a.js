"use strict";(self["webpackChunkcloud_dist"]=self["webpackChunkcloud_dist"]||[]).push([[342],{64342:function(e,l,a){a.r(l),a.d(l,{default:function(){return M}});var n=a(73396),t=a(44870),i=a(17033),s=a(24120),o=a(83273),r=a(92097),u=a(33008),d=a(96616),c=a(89807),m=a(74786),v=a(60212),g=a(68107),f=a(99420),h=a(96455),p=a(86773),b=a(30411),w=(0,b.cB)("p","\n box-sizing: border-box;\n transition: color .3s var(--n-bezier);\n margin: var(--n-margin);\n font-size: var(--n-font-size);\n line-height: var(--n-line-height);\n color: var(--n-text-color);\n",[(0,b.c)("&:first-child","margin-top: 0;"),(0,b.c)("&:last-child","margin-bottom: 0;")]);const _=Object.assign(Object.assign({},g.Z.props),{depth:[String,Number]});var U=(0,n.aZ)({name:"P",props:_,setup(e){const{mergedClsPrefixRef:l,inlineThemeDisabled:a}=(0,f.Z)(e),t=(0,g.Z)("Typography","-p",w,p.Z,e,l),i=(0,n.Fl)((()=>{const{depth:l}=e,a=l||"1",{common:{cubicBezierEaseInOut:n},self:{pFontSize:i,pLineHeight:s,pMargin:o,pTextColor:r,[`pTextColor${a}Depth`]:u}}=t.value;return{"--n-bezier":n,"--n-font-size":i,"--n-line-height":s,"--n-margin":o,"--n-text-color":void 0===l?r:u}})),s=a?(0,h.F)("p",(0,n.Fl)((()=>`${e.depth||""}`)),i,e):void 0;return{mergedClsPrefix:l,cssVars:a?void 0:i,themeClass:null===s||void 0===s?void 0:s.themeClass,onRender:null===s||void 0===s?void 0:s.onRender}},render(){var e;return null===(e=this.onRender)||void 0===e||e.call(this),(0,n.h)("p",{class:[`${this.mergedClsPrefix}-p`,this.themeClass],style:this.cssVars},this.$slots)}}),Z=a(50631),S=a(55393),y=a(93896),k=a(10796),W=a(30627);const x={class:"settings-manage-container"},C={class:"website"},z={style:{"margin-bottom":"12px"}};var P={__name:"SettingsManage",setup(e){const{message:l,dialog:a}=(0,s.M)(["message","dialog"]),g="name",f="logo",h=(0,t.iH)(null),p=(0,t.qj)({name:{id:1,value:null},logo:{id:2,value:(0,t.iH)(null)}}),b=(0,t.iH)("");async function w(){p.name.value&&await(0,y.e)(p.name.id,{value:p.name.value}),p.logo.value&&await(0,y.e)(p.logo.id,{value:p.logo.value}),l.success("操作成功！")}async function _(){const e=await(0,y.h)(),l=e.system_configs||[];if(l.length){const e=l.find((e=>e.key===g)),a=l.find((e=>e.key===f));e&&(p.name.value=e.value),a&&(p.logo.value=a.value,b.value=(0,k.Kn)(a.value))}}const P=(0,t.iH)(null);function F({file:e}){P.value=e,e.status="uploading",e.percentage=0;const l=setInterval((()=>{"finished"!==P.value.status?P.value.percentage+=30*Math.random():clearInterval(l)}),1e3);(0,W.g)(e).then((({url:e})=>{p.logo.value=e,b.value=(0,k.Kn)(e),P.value.percentage=100,setTimeout((()=>{P.value.status="finished"}),0)}))}return _(),(e,l)=>((0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("div",C,[(0,n.Wm)((0,t.SU)(o.Z),{ref_key:"websiteFormRef",ref:h,model:p,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(r.ZP),{label:"网站名称"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(u.Z),{value:p.name.value,"onUpdate:value":l[0]||(l[0]=e=>p.name.value=e),placeholder:"请输入网站名称"},null,8,["value"])])),_:1}),(0,n.Wm)((0,t.SU)(r.ZP),{label:"logo"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(d.Z),{"directory-dnd":"",onChange:F},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(c.Z),null,{default:(0,n.w5)((()=>[(0,n._)("div",z,[(0,n.Wm)((0,t.SU)(m.g),{size:"48",depth:3},{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(i.Z))])),_:1})]),(0,n.Wm)((0,t.SU)(v.Z),{style:{"font-size":"16px"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" 上传图片 ")])),_:1}),(0,n.Wm)((0,t.SU)(U),{depth:"3",style:{margin:"8px 0 0 0"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" (图片大小不超过1M） ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,t.SU)(r.ZP),{label:"当前logo图片"},{default:(0,n.w5)((()=>[b.value?((0,n.wg)(),(0,n.j4)((0,t.SU)(Z.Z),{key:0,width:"100",src:b.value},null,8,["src"])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)((0,t.SU)(r.ZP),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,t.SU)(S.ZP),{type:"primary",onClick:w},{default:(0,n.w5)((()=>[(0,n.Uk)(" 保存 ")])),_:1})])),_:1})])),_:1},8,["model"])])]))}},F=a(40089);const H=(0,F.Z)(P,[["__scopeId","data-v-4ff57eb8"]]);var M=H}}]);
//# sourceMappingURL=342.4013931a.js.map