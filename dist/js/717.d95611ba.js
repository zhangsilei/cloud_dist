"use strict";(self["webpackChunkcloud_dist"]=self["webpackChunkcloud_dist"]||[]).push([[717],{21209:function(e,t,r){var a=r(73396);const n={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"},o=(0,a._)("path",{d:"M443.5,420.2L336.7,312.4c20.9-26.2,33.5-59.4,33.5-95.5c0-84.5-68.5-153-153.1-153S64,132.5,64,217s68.5,153,153.1,153\n\tc36.6,0,70.1-12.8,96.5-34.2l106.1,107.1c3.2,3.4,7.6,5.1,11.9,5.1c4.1,0,8.2-1.5,11.3-4.5C449.5,437.2,449.7,426.8,443.5,420.2z\n\t M217.1,337.1c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-84.9c0-32.1,12.5-62.3,35.2-84.9c22.7-22.7,52.9-35.2,85-35.2\n\tc32.1,0,62.3,12.5,85,35.2c22.7,22.7,35.2,52.9,35.2,84.9c0,32.1-12.5,62.3-35.2,84.9C279.4,324.6,249.2,337.1,217.1,337.1z"},null,-1),l=[o];t["Z"]=(0,a.aZ)({name:"IosSearch",render:function(e,t){return(0,a.wg)(),(0,a.iD)("svg",n,l)}})},25279:function(e,t,r){r.r(t),r.d(t,{default:function(){return ae}});r(57658);var a=r(73396),n=r(44870),o=r(87139),l=r(68107),i=r(99420),s=r(96455),c={fontWeightActive:"400"},u=r(78308);const d=e=>{const{fontSize:t,textColor3:r,textColor2:a,borderRadius:n,buttonColor2Hover:o,buttonColor2Pressed:l}=e;return Object.assign(Object.assign({},c),{fontSize:t,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:a,itemTextColorPressed:a,itemTextColorActive:a,itemBorderRadius:n,itemColorHover:o,itemColorPressed:l,separatorColor:r})},m={name:"Breadcrumb",common:u.Z,self:d};var v=m,p=r(30411),g=(0,p.cB)("breadcrumb","\n white-space: nowrap;\n cursor: default;\n line-height: var(--n-item-line-height);\n",[(0,p.c)("ul","\n list-style: none;\n padding: 0;\n margin: 0;\n "),(0,p.c)("a","\n color: inherit;\n text-decoration: inherit;\n "),(0,p.cB)("breadcrumb-item","\n font-size: var(--n-font-size);\n transition: color .3s var(--n-bezier);\n display: inline-flex;\n align-items: center;\n ",[(0,p.cB)("icon","\n font-size: 18px;\n vertical-align: -.2em;\n transition: color .3s var(--n-bezier);\n color: var(--n-item-text-color);\n "),(0,p.c)("&:not(:last-child)",[(0,p.cM)("clickable",[(0,p.cE)("link","\n cursor: pointer;\n ",[(0,p.c)("&:hover","\n background-color: var(--n-item-color-hover);\n "),(0,p.c)("&:active","\n background-color: var(--n-item-color-pressed); \n ")])])]),(0,p.cE)("link","\n padding: 4px;\n border-radius: var(--n-item-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n color: var(--n-item-text-color);\n position: relative;\n ",[(0,p.c)("&:hover","\n color: var(--n-item-text-color-hover);\n ",[(0,p.cB)("icon","\n color: var(--n-item-text-color-hover);\n ")]),(0,p.c)("&:active","\n color: var(--n-item-text-color-pressed);\n ",[(0,p.cB)("icon","\n color: var(--n-item-text-color-pressed);\n ")])]),(0,p.cE)("separator","\n margin: 0 8px;\n color: var(--n-separator-color);\n transition: color .3s var(--n-bezier);\n user-select: none;\n -webkit-user-select: none;\n "),(0,p.c)("&:last-child",[(0,p.cE)("link","\n font-weight: var(--n-font-weight-active);\n cursor: unset;\n color: var(--n-item-text-color-active);\n ",[(0,p.cB)("icon","\n color: var(--n-item-text-color-active);\n ")]),(0,p.cE)("separator","\n display: none;\n ")])])]),h=r(11295);const f=(0,h.U)("n-breadcrumb"),_=Object.assign(Object.assign({},l.Z.props),{separator:{type:String,default:"/"}});var y=(0,a.aZ)({name:"Breadcrumb",props:_,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=(0,i.Z)(e),o=(0,l.Z)("Breadcrumb","-breadcrumb",g,v,e,t);(0,a.JJ)(f,{separatorRef:(0,n.Vh)(e,"separator"),mergedClsPrefixRef:t});const c=(0,a.Fl)((()=>{const{common:{cubicBezierEaseInOut:e},self:{separatorColor:t,itemTextColor:r,itemTextColorHover:a,itemTextColorPressed:n,itemTextColorActive:l,fontSize:i,fontWeightActive:s,itemBorderRadius:c,itemColorHover:u,itemColorPressed:d,itemLineHeight:m}}=o.value;return{"--n-font-size":i,"--n-bezier":e,"--n-item-text-color":r,"--n-item-text-color-hover":a,"--n-item-text-color-pressed":n,"--n-item-text-color-active":l,"--n-separator-color":t,"--n-item-color-hover":u,"--n-item-color-pressed":d,"--n-item-border-radius":c,"--n-font-weight-active":s,"--n-item-line-height":m}})),u=r?(0,s.F)("breadcrumb",void 0,c,e):void 0;return{mergedClsPrefix:t,cssVars:r?void 0:c,themeClass:null===u||void 0===u?void 0:u.themeClass,onRender:null===u||void 0===u?void 0:u.onRender}},render(){var e;return null===(e=this.onRender)||void 0===e||e.call(this),(0,a.h)("nav",{class:[`${this.mergedClsPrefix}-breadcrumb`,this.themeClass],style:this.cssVars,"aria-label":"Breadcrumb"},(0,a.h)("ul",null,this.$slots))}}),b=r(34092),w=r(55544);const k=w.j?window:null,C=(e=k)=>{const t=()=>{const{hash:t,host:r,hostname:a,href:n,origin:o,pathname:l,port:i,protocol:s,search:c}=(null===e||void 0===e?void 0:e.location)||{};return{hash:t,host:r,hostname:a,href:n,origin:o,pathname:l,port:i,protocol:s,search:c}},r=()=>{o.value=t()},o=(0,n.iH)(t());return(0,a.bv)((()=>{e&&(e.addEventListener("popstate",r),e.addEventListener("hashchange",r))})),(0,a.Ah)((()=>{e&&(e.removeEventListener("popstate",r),e.removeEventListener("hashchange",r))})),o},U={separator:String,href:String,clickable:{type:Boolean,default:!0},onClick:Function};var x=(0,a.aZ)({name:"BreadcrumbItem",props:U,setup(e,{slots:t}){const r=(0,a.f3)(f,null);if(!r)return()=>null;const{separatorRef:n,mergedClsPrefixRef:o}=r,l=C(),i=(0,a.Fl)((()=>e.href?"a":"span")),s=(0,a.Fl)((()=>l.value.href===e.href?"location":null));return()=>{const{value:r}=o;return(0,a.h)("li",{class:[`${r}-breadcrumb-item`,e.clickable&&`${r}-breadcrumb-item--clickable`]},(0,a.h)(i.value,{class:`${r}-breadcrumb-item__link`,"aria-current":s.value,href:e.href,onClick:e.onClick},t),(0,a.h)("span",{class:`${r}-breadcrumb-item__separator`,"aria-hidden":"true"},(0,b.gI)(t.separator,(()=>{var t;return[null!==(t=e.separator)&&void 0!==t?t:n.value]}))))}}}),S=r(33008),D=r(74786),P=r(55393),E=r(5941),T=r(94570),q=r(9518),O=r(85210),R=r(26429),z=r(92097),F=r(21209),H=r(18244),I=r(26405),Z=r(20065),V=r(59684),L=r(10796),A=r(43612),B=(r(36797),r(22483)),W=r(45140);const j=e=>((0,a.dD)("data-v-fa956696"),e=e(),(0,a.Cn)(),e),Y={class:"resource-container"},M=["innerHTML"],$={class:"top"},K={key:0,class:"sort"},X=j((()=>(0,a._)("span",{class:"label"},"排序方式",-1))),J={class:"content"},N={style:{display:"flex"}},G=["src"],Q={key:0};var ee={__name:"Resource",setup(e){const t=(0,Z.oR)(),r=(0,B.tv)(),l=(0,B.yj)(),i=(0,n.iH)("");function s(){c.value?re():v()}const c=(0,n.iH)(!1);function u(e){t.state.selectedCategory.id!==L.U5.FAVORITE&&t.state.selectedCategory.id!==L.U5.MY_FAVORITE&&(d.query.order_by=e,v())}const d=(0,n.qj)({fileNames:[{label:L.XE.getDescFromValue(L.XE.VIDEOS),value:L.XE.VIDEOS},{label:L.XE.getDescFromValue(L.XE.PHOTOS),value:L.XE.PHOTOS}],loading:!1,dataList:[],total:0,query:{page_num:1,page_size:10,category_id:null,key:null,order_by:L.qf.DEFAULT,resource_type:null,order_type:"desc"}});async function m(e){U.value.push(e.label),d.query.resource_type=e.value,await re(),f.value=!0,k.value=!1}async function v(){d.dataList=[],d.loading=!0;const e=await(0,V.rT)(d.query),t=e.resources||[];d.dataList=t,d.total=e.total,k.value=!1,f.value=!0,d.loading=!1}function p(e){d.query.page_num=e,c.value?re():v()}const g="",h="like_num",f=((0,n.iH)(null),(0,n.iH)(!1)),_=(0,a.Fl)((()=>d.query.order_by===g)),b=(0,a.Fl)((()=>d.query.order_by===h)),w={textColor:"#ed3939",borderColor:"#ed3939"},k=(0,n.iH)(!1),C=(0,n.iH)(null),U=(0,n.iH)([]);function j(e,t){switch(t){case L.DI.POPULAR:return[L.DI.getDescFromValue(L.DI.POPULAR)];case L.U5.FAVORITE:return[L.DI.getDescFromValue(L.DI.POPULAR),L.U5.getDescFromValue(L.U5.FAVORITE)];case L.U5.MY_FAVORITE:return[L.DI.getDescFromValue(L.DI.POPULAR),L.U5.getDescFromValue(L.U5.MY_FAVORITE)];default:return(0,L.vo)(e,t)}}(0,a.YP)((()=>t.state.selectedCategory),(e=>{d.query.page_num=1,te(e,t.state.allCategories)}));const ee=(0,n.iH)(!1);function te(e,t){const r=e.dirType,a=r?e.category_id:e.id;e.id===L.U5.MY_FAVORITE||e.id===L.U5.FAVORITE?(k.value=!0,c.value=!0):(k.value=!1,c.value=!1),U.value=j(t,e.id),C.value=e,d.query.category_id=a,d.query.resource_type=r,void 0!==r?(k.value=!1,v()):d.dataList=[],ee.value=e.has_permissions,i.value=e.description}async function re(){d.dataList=[],d.loading=!0;const e=await(0,W.P$)({page_num:d.query.page_num,page_size:d.query.page_size,resource_type:d.query.resource_type,favorite_type:t.state.selectedCategory.id}),r=(e.likes||[]).map((e=>({...e.resource,is_like:e.is_like,has_permissions:e.has_permissions})));d.dataList=r,d.total=e.total,d.loading=!1}l.params.reload&&te(t.state.selectedCategory,t.state.allCategories);const ae=(0,n.qj)({isShow:!1,picture_url:"",name:"",created_time:"",updated_time:"",breadcrumbCategory:[]});async function ne(e){const r=await(0,V.DI)(e.id);ae.picture_url=(0,L.Kn)(r.picture_url),ae.name=r.name,ae.breadcrumbCategory=(0,L.vo)(t.state.allCategories,t.state.selectedCategory),ae.created_time=(0,L.p6)(r.created_time),ae.updated_time=(0,L.p6)(r.updated_time),ae.isShow=!0}function oe(e){e.has_permissions&&r.push({path:"/resource/detail",query:{...d.query,currentId:e.id}})}return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Y,[ee.value?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",$,[(0,a.Wm)((0,n.SU)(y),{separator:">",style:{padding:"0"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(U.value,((e,t)=>((0,a.wg)(),(0,a.j4)((0,n.SU)(x),null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e),1)])),_:2},1024)))),256))])),_:1}),f.value&&!c.value&&C.value.dirType?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)((0,n.SU)(S.Z),{round:"",clearable:"",placeholder:"Search",value:d.query.key,"onUpdate:value":t[0]||(t[0]=e=>d.query.key=e),style:{"margin-left":"10px"}},{prefix:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(D.g),{component:(0,n.SU)(F.Z)},null,8,["component"])])),_:1},8,["value"]),(0,a.Wm)((0,n.SU)(P.ZP),{onClick:s,style:{"margin-left":"10px"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" 查询 ")])),_:1})],64)):(0,a.kq)("",!0)]),f.value&&!c.value&&C.value.dirType?((0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)((0,n.SU)(E.Z),null,{default:(0,a.w5)((()=>[X,(0,a.Wm)((0,n.SU)(T.ZP),{size:"small",round:"",color:(0,n.SU)(_)?w:void 0,style:{cursor:"pointer"},onClick:t[1]||(t[1]=e=>u(g))},{default:(0,a.w5)((()=>[(0,a.Uk)(" 默认 ")])),_:1},8,["color"]),c.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)((0,n.SU)(T.ZP),{key:0,size:"small",round:"",color:(0,n.SU)(b)?w:void 0,style:{cursor:"pointer"},onClick:t[2]||(t[2]=e=>u(h))},{default:(0,a.w5)((()=>[(0,a.Uk)(" 人气 ")])),_:1},8,["color"]))])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",J,[(0,a.Wm)((0,n.SU)(q.Z),{"x-gap":8,"y-gap":8,cols:8},{default:(0,a.w5)((()=>[k.value?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(d.fileNames,((e,t)=>((0,a.wg)(),(0,a.j4)((0,n.SU)(O.ZP),{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(H.Z),{"file-name":e.label,onClick:t=>m(e)},null,8,["file-name","onClick"])])),_:2},1024)))),128)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.dataList,((e,t)=>((0,a.wg)(),(0,a.j4)((0,n.SU)(O.ZP),{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(I.Z),{id:e.id,"is-like":e.is_like,"file-name":e.name,"like-num":e.like_num,poster:(0,n.SU)(L.Kn)(e.picture_url),authority:e.has_permissions,onOnDetail:t=>ne(e),onClick:t=>oe(e)},null,8,["id","is-like","file-name","like-num","poster","authority","onOnDetail","onClick"])])),_:2},1024)))),128))])),_:1}),!k.value&&C.value.id===(0,n.SU)(L.U5).MY_FAVORITE||C.value.id===(0,n.SU)(L.U5).FAVORITE||C.value.dirType?((0,a.wg)(),(0,a.j4)((0,n.SU)(R.Z),{key:0,style:{"justify-content":"flex-end"},page:d.query.page_num,"onUpdate:page":t[3]||(t[3]=e=>d.query.page_num=e),"item-count":d.total,"on-update:page":p},null,8,["page","item-count"])):(0,a.kq)("",!0)])],64)):((0,a.wg)(),(0,a.iD)("div",{key:0,innerHTML:i.value},null,8,M)),(0,a.Wm)((0,n.SU)(A.Z),{modelValue:ae.isShow,"onUpdate:modelValue":t[4]||(t[4]=e=>ae.isShow=e),title:"详细信息",isShowFooter:!1},{default:(0,a.w5)((()=>[(0,a._)("div",N,[(0,a._)("div",null,[(0,a._)("img",{style:{width:"250px","margin-right":"15px"},src:ae.picture_url},null,8,G)]),(0,a._)("div",null,[(0,a.Wm)((0,n.SU)(z.ZP),{"label-placement":"left",label:"名称"},{default:(0,a.w5)((()=>[(0,a._)("div",null,(0,o.zw)(ae.name),1)])),_:1}),(0,a.Wm)((0,n.SU)(z.ZP),{"label-placement":"left",label:"位置"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(U.value,((e,t)=>((0,a.wg)(),(0,a.iD)("span",null,[(0,a.Uk)((0,o.zw)(e)+" ",1),t!==U.value.length-1?((0,a.wg)(),(0,a.iD)("span",Q,"/")):(0,a.kq)("",!0)])))),256))])),_:1}),(0,a.Wm)((0,n.SU)(z.ZP),{"label-placement":"left",label:"上传时间"},{default:(0,a.w5)((()=>[(0,a._)("div",null,(0,o.zw)(ae.created_time),1)])),_:1}),(0,a.Wm)((0,n.SU)(z.ZP),{"label-placement":"left",label:"最后修改时间"},{default:(0,a.w5)((()=>[(0,a._)("div",null,(0,o.zw)(ae.updated_time),1)])),_:1})])])])),_:1},8,["modelValue"])]))}},te=r(40089);const re=(0,te.Z)(ee,[["__scopeId","data-v-fa956696"]]);var ae=re}}]);
//# sourceMappingURL=717.d95611ba.js.map